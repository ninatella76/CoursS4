<html>
<head>
	<meta charset="utf-8"/>
	<title>Calcul de factorielles</title>
	<link rel="stylesheet" href="style.css" />
</head>
<body>
	<script>
		function Produit(lib,coul,qs) {
			this.lib = lib;
			this.coul = coul;
			this.qs = qs;
		}

		function Magasin(){
			this.stock = new Array();
		}

		Magasin.prototype.addProduit = function(prod){
			var dernCase =this.stock.length;
			this.stock[dernCase] = prod;
		}
		
		Magasin.prototype.getQsProduit =  function(lib,coul){
			for (var i=0; i<this.stock.length; i++){
				if (this.stock[i].lib == lib && this.stock[i].coul == coul){
					return this.stock[i].qs;
				}

			}
			return undefined;
		}

		Magasin.prototype.getNbProduits = function(){
			return this.stock.length;
		}

		Produit.prototype.genereLigne = function(titre) {

			var ligne = "<tr><td>" + titre + "</td><td>" + this.lib + "</td><td>" + this.coul + "</td><td>" + this.qs + "</td></tr>";
			return ligne;
		}

		function tableau(tab){
			var chaine = "<table>";
			for (var i=0; i<tab.length; i++){
				chaine += tab[i].genereLigne("Produit" + " " + (i+1));
			}

			chaine += "</table>";
			return chaine;

		}

		var tabProd = new Array();
		var magasin = new Magasin();

		var p1 = new Produit("gomme", "blanc", "500");
		var p2 = new Produit("crayon", "bleu", "1000");
		var p3 = new Produit("cahier", "rouge", "200");

		tabProd = [p1, p2, p3];
		document.write("Tableau : <br/>" + tableau(tabProd) + "<br/><hr/>");

		magasin.addProduit(p1);
		magasin.addProduit(p2);
		magasin.addProduit(p3);

		document.write("Nombre de produit dans le magasin : " + magasin.getNbProduits() + "<br/>");
		document.write("Qte prod avec lib='gomme'  et coul='blanche' : " + magasin.getQsProduit("gomme", "blanc")  + "<br/>");
		document.write("Qte prod avec lib='gomme'  et coul='bleu'    : " + magasin.getQsProduit("gomme", "bleu")   + "<br/>");
		document.write("Qte prod avec lib='crayon' et coul='bleu'    : " + magasin.getQsProduit("crayon", "bleu")  + "<br/>");
		document.write("Qte prod avec lib='cahier' et coul='rouge'   : " + magasin.getQsProduit("cahier", "rouge") + "<br/>");
	</script>
</body>
</html>
